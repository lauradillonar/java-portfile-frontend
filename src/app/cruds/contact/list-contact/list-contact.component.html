<app-navbar [idPerson]="idPerson"></app-navbar>
<div class="initial"></div>

<div class="container">
  <h1 class="text-center py-5">{{ lang?.contact?.title }}</h1>
  <div class="preloader" *ngIf="!hasMessages"></div>
  <div *ngIf="hasMessages">
    <div class="row mb-3" *ngFor="let item of messages; index as i">
      <div
        class="card my-3"
        data-aos="fade-left"
        data-aos-duration="2000"
        *ngIf="i % 2 === 0"
      >
        <div class="card-body d-flex flex-column justify-content-between">
          <div class="d-flex flex-column align-items-start p-4">
            <div class="w-100 flex-grow-1 flex-shrink-0">
              <div
                class="h4 text-start fw-bold"
                [innerText]="item.textName"
              ></div>
            </div>
            <div class="w-100 flex-grow-1 flex-shrink-0">
              <div
                class="h6 text-start fw-bold"
                [innerText]="item.textEmail"
              ></div>
            </div>
            <textarea
              *ngIf="item.textMessage != ''"
              class="text text-start w-100 flex-grow-1 flex-shrink-0"
              [value]="item.textMessage"
              readonly
            ></textarea>
          </div>
          <div class="d-flex flex-row justify-content-evenly">
            <button
              type="button"
              class="deletebutton"
              (click)="deleteMessage(item.idContact)"
            >
              <i class="far fa-trash-alt"></i>
              {{ labels?.cardDeleteButton }}
            </button>
          </div>
        </div>
      </div>
      <div
        class="card my-3"
        data-aos="fade-right"
        data-aos-duration="2000"
        *ngIf="i % 2 === 1"
      >
        <div class="card-body d-flex flex-column justify-content-between">
          <div class="d-flex flex-column align-items-start p-4">
            <div class="w-100 flex-grow-1 flex-shrink-0">
              <div
                class="h4 text-start fw-bold"
                [innerText]="item.textName"
              ></div>
            </div>
            <div class="w-100 flex-grow-1 flex-shrink-0">
              <div
                class="h6 text-start fw-bold"
                [innerText]="item.textEmail"
              ></div>
            </div>
            <textarea
              *ngIf="item.textMessage != ''"
              class="text text-start w-100 flex-grow-1 flex-shrink-0"
              [value]="item.textMessage"
              readonly
            ></textarea>
          </div>
          <div class="d-flex flex-row justify-content-evenly">
            <button
              type="button"
              class="deletebutton"
              (click)="deleteMessage(item.idContact)"
            >
              <i class="far fa-trash-alt"></i>
              {{ labels?.cardDeleteButton }}
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex flex-row mt-3 justify-content-evenly">
    <button
      class="cancelbutton"
      type="button"
      routerLink="/{{ idPerson }}/home"
      fragment="main"
    >
      <i class="fas fa-arrow-alt-circle-left"></i>
      {{ labels?.cancelButton }}
    </button>
  </div>
</div>
